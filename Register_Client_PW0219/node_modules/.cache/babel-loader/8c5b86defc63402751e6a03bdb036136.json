{"ast":null,"code":"var _jsxFileName = \"/home/apleitez/Documents/WEB/labofinal/Register_Client_PW0219/src/components/App.js\";\nimport React from \"react\";\nimport RegisterForm from './RegisterForm';\nimport RegisterTable from './RegisterTable';\nimport Api from '../utils/apiURLBase';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      student_list: [],\n      id_counter: 0\n    };\n  }\n\n  componentDidMount() {\n    let options = {\n      headers: {\n        Accept: 'application/json'\n      }\n    };\n    fetch(\"\".concat(Api.baseURL, \"/register\"), options).then(res => {\n      return res.json();\n    }).then(data => {\n      console.log(data);\n    }).catch(err => console.log(\"Ocurrio un error en la conexion\"));\n  }\n\n  handleSubmit(student) {\n    student._id = this.state.id_counter;\n    student.datetime = new Date();\n    let buffer_list = this.state.student_list.slice();\n    this.setState({\n      student_list: buffer_list.concat([student]),\n      id_counter: this.state.id_counter + 1\n    });\n  }\n\n  handleDelete(student) {\n    let index = this.state.student_list.find(value => {\n      return value._id === student._id;\n    });\n    let buffer_list = this.state.student_list.slice();\n    buffer_list.splice(index, 1);\n    this.setState({\n      student_list: buffer_list\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      style: {\n        \"marginTop\": 2 + \"em\",\n        \"marginBottom\": 2 + \"em\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(RegisterForm, {\n      onSubmit: student => {\n        this.handleSubmit(student);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(RegisterTable, {\n      list: this.state.student_list,\n      onDelete: student => this.handleDelete(student),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/apleitez/Documents/WEB/labofinal/Register_Client_PW0219/src/components/App.js"],"names":["React","RegisterForm","RegisterTable","Api","App","Component","constructor","props","state","student_list","id_counter","componentDidMount","options","headers","Accept","fetch","baseURL","then","res","json","data","console","log","catch","err","handleSubmit","student","_id","datetime","Date","buffer_list","slice","setState","concat","handleDelete","index","find","value","splice","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,GAAP,MAAgB,qBAAhB;;AAEA,MAAMC,GAAN,SAAkBJ,KAAK,CAACK,SAAxB,CAAiC;AAC7BC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,YAAY,EAAC,EADJ;AAETC,MAAAA,UAAU,EAAC;AAFF,KAAb;AAIH;;AAEDC,EAAAA,iBAAiB,GACjB;AACI,QAAIC,OAAO,GAAG;AACVC,MAAAA,OAAO,EAAC;AACJC,QAAAA,MAAM,EAAE;AADJ;AADE,KAAd;AAKAC,IAAAA,KAAK,WAAIZ,GAAG,CAACa,OAAR,gBAA4BJ,OAA5B,CAAL,CACCK,IADD,CACMC,GAAG,IAAI;AAAC,aAAOA,GAAG,CAACC,IAAJ,EAAP;AAAkB,KADhC,EAECF,IAFD,CAEMG,IAAI,IAAG;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACH,KAJD,EAKCG,KALD,CAKOC,GAAG,IAAIH,OAAO,CAACC,GAAR,CAAY,iCAAZ,CALd;AAMH;;AAEDG,EAAAA,YAAY,CAACC,OAAD,EAAS;AACjBA,IAAAA,OAAO,CAACC,GAAR,GAAc,KAAKnB,KAAL,CAAWE,UAAzB;AACAgB,IAAAA,OAAO,CAACE,QAAR,GAAmB,IAAIC,IAAJ,EAAnB;AAEA,QAAIC,WAAW,GAAG,KAAKtB,KAAL,CAAWC,YAAX,CAAwBsB,KAAxB,EAAlB;AACA,SAAKC,QAAL,CAAc;AACVvB,MAAAA,YAAY,EAAEqB,WAAW,CAACG,MAAZ,CAAmB,CAACP,OAAD,CAAnB,CADJ;AAEVhB,MAAAA,UAAU,EAAE,KAAKF,KAAL,CAAWE,UAAX,GAAwB;AAF1B,KAAd;AAIH;;AAEDwB,EAAAA,YAAY,CAACR,OAAD,EAAS;AACjB,QAAIS,KAAK,GAAG,KAAK3B,KAAL,CAAWC,YAAX,CAAwB2B,IAAxB,CAA6BC,KAAK,IAAE;AAC5C,aAAOA,KAAK,CAACV,GAAN,KAAcD,OAAO,CAACC,GAA7B;AACH,KAFW,CAAZ;AAIA,QAAIG,WAAW,GAAG,KAAKtB,KAAL,CAAWC,YAAX,CAAwBsB,KAAxB,EAAlB;AACAD,IAAAA,WAAW,CAACQ,MAAZ,CAAmBH,KAAnB,EAA0B,CAA1B;AAEA,SAAKH,QAAL,CAAc;AACVvB,MAAAA,YAAY,EAAEqB;AADJ,KAAd;AAGH;;AAEDS,EAAAA,MAAM,GAAE;AACJ,WACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAA2B,MAAA,KAAK,EAAE;AAAC,qBAAY,IAAE,IAAf;AAAqB,wBAAe,IAAE;AAAtC,OAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,YAAD;AACI,MAAA,QAAQ,EAAKb,OAAD,IAAW;AACnB,aAAKD,YAAL,CAAkBC,OAAlB;AACH,OAHL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAMI,oBAAC,aAAD;AACI,MAAA,IAAI,EAAE,KAAKlB,KAAL,CAAWC,YADrB;AAEI,MAAA,QAAQ,EAAGiB,OAAD,IAAW,KAAKQ,YAAL,CAAkBR,OAAlB,CAFzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,CADJ;AAaH;;AA9D4B;;AAiEjC,eAAetB,GAAf","sourcesContent":["import React from \"react\"\nimport RegisterForm from './RegisterForm'\nimport RegisterTable from './RegisterTable'\nimport Api from '../utils/apiURLBase'\n\nclass App extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            student_list:[],\n            id_counter:0\n        }\n    }\n\n    componentDidMount()\n    {\n        let options = {\n            headers:{\n                Accept: 'application/json'\n            }\n        }\n        fetch(`${Api.baseURL}/register`, options)\n        .then(res => {return res.json()})\n        .then(data =>{\n            console.log(data);\n        })\n        .catch(err => console.log(\"Ocurrio un error en la conexion\"))\n    }\n\n    handleSubmit(student){\n        student._id = this.state.id_counter;\n        student.datetime = new Date();\n\n        let buffer_list = this.state.student_list.slice();\n        this.setState({\n            student_list: buffer_list.concat([student]),\n            id_counter: this.state.id_counter + 1,\n        })\n    }\n\n    handleDelete(student){\n        let index = this.state.student_list.find(value=>{\n            return value._id === student._id;\n        })\n\n        let buffer_list = this.state.student_list.slice();\n        buffer_list.splice(index, 1);\n\n        this.setState({\n            student_list: buffer_list\n        });\n    }\n    \n    render(){\n        return (\n            <div className=\"container\" style={{\"marginTop\":2+\"em\", \"marginBottom\":2+\"em\"}}>\n                <RegisterForm \n                    onSubmit = {(student)=>{\n                        this.handleSubmit(student);\n                    }}\n                />\n                <RegisterTable \n                    list={this.state.student_list}\n                    onDelete={(student)=>this.handleDelete(student)}\n                    />\n            </div>\n        );\n    }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}